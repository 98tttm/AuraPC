<header class="header" [class.header--scrolled]="isScrolled()">
  <nav class="main-nav">
    <div class="main-nav__inner">
      <a href="/" class="logo">
        <img [src]="assets.logo" alt="AuraPC Logo" class="logo-image">
        <span class="logo-text">AuraPC</span>
      </a>
      <button class="nav-burger" (click)="toggleMenu()" [attr.aria-expanded]="menuOpen()" aria-label="Menu">
        <span class="nav-burger__line"></span>
        <span class="nav-burger__line"></span>
        <span class="nav-burger__line"></span>
      </button>
      <ul class="nav-menu" [class.nav-menu--open]="menuOpen()">
        @for (item of menuItems; track item.id) {
        <li class="nav-item" [class.active]="activeMenu() === item.id">
          <a (click)="setActiveMenu(item.id)">{{ item.label }}</a>
          @if (activeMenu() === item.id) {
          <div class="active-indicator"></div>
          }
        </li>
        }
      </ul>
      <div class="nav-actions">
        <button class="action-btn" (click)="toggleSearch()" aria-label="Tìm kiếm">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/>
            <path d="M16 16L20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <button class="action-btn" (click)="openUser()" aria-label="Tài khoản">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
            <path d="M4 21c0-3.314 3.582-6 8-6s8 2.686 8 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <button class="cart-btn" (click)="openCart()" aria-label="Giỏ hàng">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4H6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3 6h18" stroke="currentColor" stroke-width="2"/>
            <path d="M16 10a4 4 0 01-8 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span class="cart-text">Giỏ hàng</span>
        </button>
      </div>
    </div>
  </nav>
  @if (menuOpen()) {
  <div class="nav-overlay" (click)="closeMenu()" role="button" tabindex="0" aria-label="Đóng menu"></div>
  }
</header>
