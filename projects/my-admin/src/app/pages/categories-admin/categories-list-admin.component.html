<div class="page">
  <div class="page-header">
    <h1>Danh mục</h1>
    <a routerLink="/categories/new" class="btn btn-primary">Thêm danh mục</a>
  </div>
  @if (error()) {
    <div class="alert alert-error">{{ error() }}</div>
  }
  @if (loading()) {
    <p>Đang tải...</p>
  } @else {
    <table class="table">
      <thead>
        <tr>
          <th>Tên</th>
          <th>Slug</th>
          <th>Thứ tự</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (c of items(); track c._id) {
          <tr>
            <td>{{ c.name }}</td>
            <td>{{ c.slug || '-' }}</td>
            <td>{{ c.order ?? '-' }}</td>
            <td>
              <a [routerLink]="['/categories', c._id, 'edit']" class="btn btn-sm">Sửa</a>
              <button type="button" class="btn btn-sm btn-danger" (click)="delete(c._id!, c.name)">Xóa</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
    @if (items().length === 0) {
      <p>Chưa có danh mục nào.</p>
    }
  }
</div>
