<div class="page">
  <div class="page-header">
    <h1>Bài viết</h1>
    <a routerLink="/blogs/new" class="btn btn-primary">Thêm bài viết</a>
  </div>
  @if (error()) {
    <div class="alert alert-error">{{ error() }}</div>
  }
  @if (loading()) {
    <p>Đang tải...</p>
  } @else {
    <table class="table">
      <thead>
        <tr>
          <th>Tiêu đề</th>
          <th>Slug</th>
          <th>Xuất bản</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (b of items(); track b._id) {
          <tr>
            <td>{{ b.title }}</td>
            <td>{{ b.slug || '-' }}</td>
            <td>{{ b.published ? 'Có' : 'Không' }}</td>
            <td>
              <a [routerLink]="['/blogs', b._id, 'edit']" class="btn btn-sm">Sửa</a>
              <button type="button" class="btn btn-sm btn-danger" (click)="delete(b._id!, b.title)">Xóa</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
    @if (items().length === 0) {
      <p>Chưa có bài viết nào.</p>
    }
  }
</div>
